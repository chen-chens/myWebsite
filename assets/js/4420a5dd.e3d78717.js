"use strict";(self.webpackChunkchenchens=self.webpackChunkchenchens||[]).push([[6974],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return d}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),l=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=l(e.components);return a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(t),d=r,h=m["".concat(c,".").concat(d)]||m[d]||u[d]||o;return t?a.createElement(h,i(i({ref:n},p),{},{components:t})):a.createElement(h,i({ref:n},p))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=t[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4721:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return m}});var a=t(3117),r=t(102),o=(t(7294),t(3905)),i=["components"],s={sidebar_position:4,id:"asyncFunc",title:"async Func.",tags:["stack","event loop","queue","synchronous","asyncronous","promise","async-await"]},c=void 0,l={unversionedId:"javascript/asyncFunc",id:"javascript/asyncFunc",title:"async Func.",description:"Q: \u70ba\u4e86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f",source:"@site/docs/javascript/js_asyncFunc.md",sourceDirName:"javascript",slug:"/javascript/asyncFunc",permalink:"/myWebsite/docs/javascript/asyncFunc",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/javascript/js_asyncFunc.md",tags:[{label:"stack",permalink:"/myWebsite/docs/tags/stack"},{label:"event loop",permalink:"/myWebsite/docs/tags/event-loop"},{label:"queue",permalink:"/myWebsite/docs/tags/queue"},{label:"synchronous",permalink:"/myWebsite/docs/tags/synchronous"},{label:"asyncronous",permalink:"/myWebsite/docs/tags/asyncronous"},{label:"promise",permalink:"/myWebsite/docs/tags/promise"},{label:"async-await",permalink:"/myWebsite/docs/tags/async-await"}],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,id:"asyncFunc",title:"async Func.",tags:["stack","event loop","queue","synchronous","asyncronous","promise","async-await"]},sidebar:"tutorialSidebar",previous:{title:"scope And hoisting",permalink:"/myWebsite/docs/javascript/js_scopeAndhoisting"},next:{title:"\u8655\u7406\u6578\u5b57\u8a08\u7b97\u7684\u65b9\u6cd5",permalink:"/myWebsite/docs/javascript/calcNumber"}},p=[{value:"Q: \u70ba\u4e86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f",id:"q-\u70ba\u4e86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c",children:[{value:"\u5148\u4f86\u4e86\u89e3 Synchronous Code Execution",id:"\u5148\u4f86\u4e86\u89e3-synchronous-code-execution",children:[],level:3},{value:"How Code is Parsed &amp; Compiled - JavaScript Engine (\u6982\u89c0)",id:"how-code-is-parsed--compiled---javascript-engine-\u6982\u89c0",children:[],level:3},{value:"Inside the JavaScript Engine - How the CodeExecutes (\u6df1\u7a76)",id:"inside-the-javascript-engine---how-the-codeexecutes-\u6df1\u7a76",children:[],level:3},{value:"Call Api processure - queque &amp; event loop (\u6df1\u7a76)",id:"call-api-processure---queque--event-loop-\u6df1\u7a76",children:[{value:"Processure:",id:"processure",children:[],level:4}],level:3}],level:2},{value:"Promise",id:"promise",children:[{value:"Q: What&#39;s a Promise in JavaScript?",id:"q-whats-a-promise-in-javascript",children:[{value:"Promises are objects which &quot;wrap&quot; asynchronous code to make working with it easier.",id:"promises-are-objects-which-wrap-asynchronous-code-to-make-working-with-it-easier",children:[],level:4}],level:3},{value:"\u7528 \u95dc\u9375\u5b57 <code>new</code> \u5efa\u7acb \u4e00promise \u4f86\u8a66\u8a66\uff1a",id:"\u7528-\u95dc\u9375\u5b57-new-\u5efa\u7acb-\u4e00promise-\u4f86\u8a66\u8a66",children:[],level:3},{value:"\u4e5f\u53ef\u4ee5\u7528 function \u628a promise \u5305\u8d77\u4f86\uff0c\u518d return \u51fa\u4f86\u4f7f\u7528\uff1a",id:"\u4e5f\u53ef\u4ee5\u7528-function-\u628a-promise-\u5305\u8d77\u4f86\u518d-return-\u51fa\u4f86\u4f7f\u7528",children:[],level:3},{value:"\u591a\u5c64\u4e32\u63a5\u5beb\u6cd5\uff0c\u8981\u628a\u4e0a\u4e00\u5c64 promise \u7269\u4ef6 return \u51fa\u4f86",id:"\u591a\u5c64\u4e32\u63a5\u5beb\u6cd5\u8981\u628a\u4e0a\u4e00\u5c64-promise-\u7269\u4ef6-return-\u51fa\u4f86",children:[],level:3},{value:"\u591a\u5c64\u4e32\u63a5\u9806\u5e8f(\u5f85\u88dc)",id:"\u591a\u5c64\u4e32\u63a5\u9806\u5e8f\u5f85\u88dc",children:[],level:3}],level:2},{value:"<code>async</code> <code>await</code>",id:"async-await",children:[{value:"\u642d\u914d <code>try</code> <code>catch</code>",id:"\u642d\u914d-try-catch",children:[],level:3}],level:2},{value:"<code>promise.then().catch()</code> \u8207 <code>async</code> <code>await</code> \u7684\u5dee\u7570",id:"promisethencatch-\u8207-async-await-\u7684\u5dee\u7570",children:[],level:2},{value:"\u53c3\u8003\u8cc7\u6e90",id:"\u53c3\u8003\u8cc7\u6e90",children:[],level:2}],u={toc:p};function m(e){var n=e.components,s=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,s,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"q-\u70ba\u4e86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c"},"Q: \u70ba\u4e86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f"),(0,o.kt)("h3",{id:"\u5148\u4f86\u4e86\u89e3-synchronous-code-execution"},"\u5148\u4f86\u4e86\u89e3 Synchronous Code Execution"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Javascript\u7279\u6027\uff1a\u57f7\u884c\u9805\u76ee\u662f\u6a94\u6848\u7531\u4e0a\u5f80\u4e0b\uff0c\u4e00\u500b\u57f7\u884c\u5b8c\u624d\u57f7\u884c\u4e0b\u4e00\u500b\uff08single thread: one-by-one\uff09\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u60c5\u5883\uff1a\u4f7f\u7528\u8005\u700f\u89bd\u7db2\u9801\uff0c\u9ede\u64ca\u5167\u5bb9\u5f8c\u5411server\u8981\u8cc7\u6599\u3002\u5728server\u56de\u50b3\u8cc7\u6599\u8207\u6e32\u7136\u7db2\u9801\u4e4b\u524d\uff0c\u4f7f\u7528\u8005\u7121\u6cd5\u57f7\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u53ea\u80fd\u539f\u5730\u4e7e\u7b49\u3002\n\uff08\u4f7f\u7528\u8005\u4ee5\u70ba\u7576\u6a5f\uff0c\u4f46\u5176\u5be6\u662f\u5728\u7b49\u5f85\u56de\u50b3\u8cc7\u6599\uff09",(0,o.kt)("strong",{parentName:"li"},"(Blocking Code)"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"js_synchronous_code_execution",src:t(7316).Z})),(0,o.kt)("p",null,"\u70ba\u4e86\u89e3\u6c7a\u4e0a\u8ff0\u60c5\u5883\u9047\u5230\u7684\u554f\u984c\uff0c\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 \u700f\u89bd\u5668\u63d0\u4f9b\u7684 API\uff0c\u8b93\u6211\u5011\u53ef\u4ee5\u540c\u4e00\u6642\u9593\u57f7\u884c\u591a\u6a23\u52d5\u4f5c\u3002\n\uff08\u7576\u4f7f\u7528\u8005\u9ede\u64ca\u5167\u5bb9\u6642\uff0c\u5411server\u8981\u8cc7\u6599\u8981\u8cc7\u6599\u7684\u52d5\u4f5c\u8eb2\u5728\u700f\u89bd\u5668\u80cc\u666f\u57f7\u884c\u3002 \u7b49\u5f85server\u56de\u50b3\u540c\u6642\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u7e7c\u7e8c\u700f\u89bd\u7db2\u9801\uff0c\u6216\u9ede\u64ca\u66f4\u591arequest\uff09"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"js_api_concept",src:t(4711).Z})),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\u88dc\u5145")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"web API \u5305\u542b DOM\u3001HTTP request\u3001setTimeout() ...."))),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"how-code-is-parsed--compiled---javascript-engine-\u6982\u89c0"},"How Code is Parsed & Compiled - JavaScript Engine (\u6982\u89c0)"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"How Code is Parsed &amp; Compiled - JavaScript Engine",src:t(1056).Z})),(0,o.kt)("h3",{id:"inside-the-javascript-engine---how-the-codeexecutes-\u6df1\u7a76"},"Inside the JavaScript Engine - How the CodeExecutes (\u6df1\u7a76)"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Inside the JavaScript Engine - How the CodeExecutes",src:t(3769).Z})),(0,o.kt)("h3",{id:"call-api-processure---queque--event-loop-\u6df1\u7a76"},"Call Api processure - queque & event loop (\u6df1\u7a76)"),(0,o.kt)("h4",{id:"processure"},"Processure:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"parse code"),(0,o.kt)("li",{parentName:"ol"},"store in heap memory"),(0,o.kt)("li",{parentName:"ol"},"execute in call stack"),(0,o.kt)("li",{parentName:"ol"},"async function go to browser background, waiting for server response."),(0,o.kt)("li",{parentName:"ol"},"when server response, moving async function to callback queue. At the same time, functions in stack is running."),(0,o.kt)("li",{parentName:"ol"},"event loop will check all functions are done in stack. When the stack is empty, moving async function to the stack."),(0,o.kt)("li",{parentName:"ol"},"execute the callback function, and pop out(return to heap memory)."),(0,o.kt)("li",{parentName:"ol"},"done.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"js_queueAndEventLoop",src:t(7181).Z}),(0,o.kt)("a",{parentName:"p",href:"https://www.itread01.com/content/1544934003.html"},"\u5716\u7247\u4f86\u6e90")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"promise"},"Promise"),(0,o.kt)("h3",{id:"q-whats-a-promise-in-javascript"},"Q: What's a Promise in JavaScript?"),(0,o.kt)("h4",{id:"promises-are-objects-which-wrap-asynchronous-code-to-make-working-with-it-easier"},'Promises are objects which "wrap" asynchronous code to make working with it easier.'),(0,o.kt)("hr",null),(0,o.kt)("p",null,"\u5728\u4e0a\u9762\u53ef\u4ee5\u770b\u5230\uff1a\u7576\u6211\u5011\u547c\u53eb web \u63d0\u4f9b\u7684 API\uff0c\u540c\u6642\u6703\u9644\u4e0a callBack() \u5f85API\u5b8c\u6210\u5f8c\u57f7\u884c\uff08callBack queue --\x3e event loop --\x3e stack\uff09\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u5982\u679c\u5beb\u6210\u4e00\u822c callback function\uff0c\u7a0b\u5f0f\u78bc\u6703\u96e3\u4ee5\u95b1\u8b80\u6216\u7dad\u8b77\u3002")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"    doA(function() {\n        doB();\n\n        doC(function() {\n            doD();\n        });\n\n        doE();\n    });\n\n    doF();\n\n    // \u57f7\u884c\u9806\u5e8f\uff1adoA --\x3e doF --\x3e doB --\x3e doC --\x3e doE --\x3e doD\n")),(0,o.kt)("h3",{id:"\u7528-\u95dc\u9375\u5b57-new-\u5efa\u7acb-\u4e00promise-\u4f86\u8a66\u8a66"},"\u7528 \u95dc\u9375\u5b57 ",(0,o.kt)("inlineCode",{parentName:"h3"},"new")," \u5efa\u7acb \u4e00promise \u4f86\u8a66\u8a66\uff1a"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"js_promise_object",src:t(2477).Z})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"    const promise = new Promise((resolveFn, rejectFn) => {\n        // \u6211\u7684\u689d\u4ef6\u662f\uff1a...\n\n            // \u689d\u4ef6\u6210\u7acb\uff0c\u8981\u57f7\u884c\u7684\u52d5\u4f5c: \u4f7f\u7528 resolve function\n\n            // \u689d\u4ef6\u4e0d\u6210\u7acb\uff0c\u8981\u57f7\u884c\u7684\u52d5\u4f5c: \u4f7f\u7528 reject function\n    })\n\n    // \u547c\u53eb promise\n    promise\n    .then((res, err) => {\n        // \u53ef\u4ee5\u57f7\u884c resolve function \uff06 reject function\n    }).catch(err => {\n        // \u53ef\u4ee5\u57f7\u884c reject function\n    }).finally(() => {\n        // \u7121\u8ad6 \u6210\u529f\u6216\u5931\u6557\uff0c\u90fd\u8981\u57f7\u884c\u7684\u52d5\u4f5c\n    })\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'     const promise = new Promise((resolveFn, rejectFn) => {\n         const condition = Math.random();\n\n         if(condition > 0.5){\n             resolveFn("\u6210\u529f\uff01")\n         }else{\n             rejectFn("\u5931\u6557\uff01")\n         }\n     });\n\n     console.log("promise: ", promise);\n\n')),(0,o.kt)("h3",{id:"\u4e5f\u53ef\u4ee5\u7528-function-\u628a-promise-\u5305\u8d77\u4f86\u518d-return-\u51fa\u4f86\u4f7f\u7528"},"\u4e5f\u53ef\u4ee5\u7528 function \u628a promise \u5305\u8d77\u4f86\uff0c\u518d return \u51fa\u4f86\u4f7f\u7528\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'    // \u6211\u60f3\u63a5\u6536\u5169\u7684\u503c\u505a\u52a0\u7e3d\u6bd4\u8f03\uff0c\u5927\u65bc100\u57f7\u884c resolveFn\uff0c\u5c0f\u6216\u7b49\u65bc100\u57f7\u884c rejectFn\n\n    function sumCompare(num1, num2){\n        const sum = num1 + num2;\n        const promise = new Promise((resolve, reject) => {\n            if(sum > 100){\n                resolve("\u6210\u529f\uff01")\n            }else{\n                reject("\u5931\u6557\uff01")\n            }\n        })\n\n        return promise;\n    }\n\n    // \u547c\u53eb sumCompare\n    sumCompare(10, 30)\n    .then(res => console.log(res))\n    .catch(err => console.log(err))\n\n')),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},".then()")," blocks always yield new promises, even if you return nothing in them. ",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"catch()")," blocks do the same by the way."))),(0,o.kt)("h3",{id:"\u591a\u5c64\u4e32\u63a5\u5beb\u6cd5\u8981\u628a\u4e0a\u4e00\u5c64-promise-\u7269\u4ef6-return-\u51fa\u4f86"},"\u591a\u5c64\u4e32\u63a5\u5beb\u6cd5\uff0c\u8981\u628a\u4e0a\u4e00\u5c64 promise \u7269\u4ef6 return \u51fa\u4f86"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"    somePromise\n    .then(res){\n        ...\n        return res\n    }\n    .then(getTopPromiseByRes){\n        console.log(getTopPromiseByRes);\n    }\n")),(0,o.kt)("h3",{id:"\u591a\u5c64\u4e32\u63a5\u9806\u5e8f\u5f85\u88dc"},"\u591a\u5c64\u4e32\u63a5\u9806\u5e8f(\u5f85\u88dc)"),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"async-await"},(0,o.kt)("inlineCode",{parentName:"h2"},"async")," ",(0,o.kt)("inlineCode",{parentName:"h2"},"await")),(0,o.kt)("p",null,"ES7 \u6709\u63d0\u51fa\u53e6\u4e00\u500b \u7570\u6b65\u8655\u7406\u7684\u65b9\u5f0f\uff0c\u4e00\u8d77\u4f86\u770b\u770b\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"async")," ",(0,o.kt)("inlineCode",{parentName:"li"},"await")," \u8981\u540c\u6642\u5b58\u5728\uff0c\u624d\u80fd\u767c\u63ee\u6548\u7528\u3002"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"await")," API: \u9019\u88e1\u7684\u7a0b\u5f0f\u78bc\u9700\u7b49\u5f85\u8a72 API \u57f7\u884c\u5b8c\u7562\uff0c\u624d\u80fd\u7e7c\u7e8c\u5f80\u4e0b\u57f7\u884c\u3002\uff08\u6709\u9ede\u50cf\u662f\u56de\u5230\u4e86 excute one-by-one \u7684\u540c\u6b65\u6982\u5ff5\uff09"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"async")," ",(0,o.kt)("inlineCode",{parentName:"li"},"await")," \u53ea\u63a5\u6536 response success\uff0c\u8981\u8655\u7406 error\uff0c\u9700\u642d\u914d ",(0,o.kt)("inlineCode",{parentName:"li"},"try")," ",(0,o.kt)("inlineCode",{parentName:"li"},"catch"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'    // regular function\n    async function reply(){\n        const res = await ApiGetAnswerFromServer; // \u7b49\u5f85 api \u56de\u50b3\u5f8c\uff0c\u624d\u6703\u7e7c\u7e8c\u5f80\u4e0b\u57f7\u884c\n        const result = "My answer is " + res;     // result \u4e00\u5b9a\u6703\u7b49\u5230 res \u7684\u503c\uff0c\u4e0d\u6703\u5148\u57f7\u884c\u52d5\u4f5c\u3002\n\n        alert(result);\n    }\n\n    // arrow function\n    const reply = async () => {\n        const res = await ApiGetAnswerFromServer;\n        const result = "My answer is " + res;\n\n        alert(result);\n    }\n')),(0,o.kt)("p",null,"\u90a3\u5982\u679c API \u56de\u50b3 ",(0,o.kt)("inlineCode",{parentName:"p"},"error"),"\uff0c\u6574\u6bb5\u7a0b\u5f0f\u78bc\u5361\u5728\u90a3\u908a\uff0c\u600e\u9ebc\u89e3\u6c7a\uff1f"),(0,o.kt)("h3",{id:"\u642d\u914d-try-catch"},"\u642d\u914d ",(0,o.kt)("inlineCode",{parentName:"h3"},"try")," ",(0,o.kt)("inlineCode",{parentName:"h3"},"catch")),(0,o.kt)("p",null,"\u7d50\u69cb\u5982\u4e0b\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"    const reply = async () => {\n        try{\n            const res = await ApiGetAnswerFromServer;\n            // \u91dd\u5c0d Promise.resove()\u505a\u8655\u7406\n        }catch(err){\n            // \u91dd\u5c0d Promise.reject()\u505a\u8655\u7406\n        }finally{\n            // \u4e0d\u8ad6resove \u6216reject\uff0c\u90fd\u6703\u57f7\u884c \uff08\u901a\u5e38\u7528\u4f86\u505a reset \u7684\u52d5\u4f5c\uff09\n        }\n    }\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'    const reply = async () => {\n        try{\n            const res = await ApiGetAnswerFromServer;\n            const result = "My answer is " + res;\n\n            alert(result);\n        }catch(err){\n            alert(err); \n        }finally{\n            alert("api done!")\n        }\n    }\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"promisethencatch-\u8207-async-await-\u7684\u5dee\u7570"},(0,o.kt)("inlineCode",{parentName:"h2"},"promise.then().catch()")," \u8207 ",(0,o.kt)("inlineCode",{parentName:"h2"},"async")," ",(0,o.kt)("inlineCode",{parentName:"h2"},"await")," \u7684\u5dee\u7570"),(0,o.kt)("p",null,"\u539f\u672c\u4e00\u958b\u59cb\uff0c\u6211\u89ba\u5f97\u4e0a\u9762\u5169\u7a2e\u7570\u6b65\u8655\u7406\u65b9\u5f0f\u5dee\u7570\u4e0d\u5927\uff0c",(0,o.kt)("a",{parentName:"p",href:"../record/problem_record2"},"\u76f4\u5230\u5de5\u4f5c\u4e0a\u6709\u9047\u5230\u4e00\u4e9b\u554f\u984c...")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"\u53c3\u8003\u8cc7\u6e90"},"\u53c3\u8003\u8cc7\u6e90"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://medium.com/walkout/%E6%B7%BA%E6%B7%A1-js-engine-%E6%A9%9F%E5%88%B6-77391b4dd3db"},"\u6dfa\u6de1 JS Engine \u6a5f\u5236")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?time_continue=1607&v=8aGhZQkoFbQ&feature=emb_logo"},"\u5f71\u7247\u4e2d\u8a73\u7d30\u89e3\u91cb\uff0cJS runtime\u3001block statck\u3001Event Loop\u7528\u9014\u3001render\u5361\u4f4f\u8b8a\u6162\u7684\u539f\u56e0")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://chiangbao1999.medium.com/settimeout%E7%82%BA%E4%BB%80%E9%BA%BC%E4%B8%8D%E6%BA%96%E6%99%82-%E6%B7%BA%E8%AB%87javascript%E7%9A%84event-loop%E9%81%8B%E4%BD%9C%E6%96%B9%E5%BC%8F-3df1aeb4c032"},"setTimeout\u70ba\u4ec0\u9ebc\u4e0d\u6e96\u6642\uff1f\u6dfa\u8ac7JavaScript\u7684event loop\u904b\u4f5c\u65b9\u5f0f")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://medium.com/itsems-frontend/javascript-event-loop-event-queue-call-stack-74a02fed5625"},"[JavaScript] Javascript \u7684\u4e8b\u4ef6\u5faa\u74b0 (Event Loop)\u3001\u4e8b\u4ef6\u4f47\u5217 (Event Queue)\u3001\u4e8b\u4ef6\u5806\u758a (Call Stack)\uff1a\u6392\u968a")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://yakimhsu.com/project/project_w16_EventLoop.html"},"[\u7b2c\u5341\u516d\u9031] JavaScript \u9032\u968e\uff1a\u4e8b\u4ef6\u8ff4\u5708 Event Loop\u3001Stack\u3001Queue")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.casper.tw/development/2020/02/16/all-new-promise/"},"JavaScript Promise \u5168\u4ecb\u7d39"))))}m.isMDXComponent=!0},4711:function(e,n,t){n.Z=t.p+"assets/images/js_api_concept-a670e652b8080f7a66ad79e58742fa65.png"},1056:function(e,n,t){n.Z=t.p+"assets/images/js_js_engine_concept-d14a2a929b03ef95122c29b859a77c84.png"},3769:function(e,n,t){n.Z=t.p+"assets/images/js_js_engine_execute-4ecdb7ac9470c929606ab88affa99d47.png"},2477:function(e,n,t){n.Z=t.p+"assets/images/js_promise_object-496fb6fd965d80cb4b2267ca661b73d7.png"},7181:function(e,n,t){n.Z=t.p+"assets/images/js_queueAndEventLoop-f8909ed5da7d6afc848239bb6acd8bc8.png"},7316:function(e,n,t){n.Z=t.p+"assets/images/js_synchronous_code_execution-9067eb489e860d8f4ae642770692dc22.png"}}]);