"use strict";(self.webpackChunkchenchens=self.webpackChunkchenchens||[]).push([[5846],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),p=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,g=u["".concat(d,".").concat(m)]||u[m]||c[m]||i;return n?a.createElement(g,l(l({ref:t},s),{},{components:n})):a.createElement(g,l({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},975:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return d},metadata:function(){return p},toc:function(){return s},default:function(){return u}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),l=["components"],o={sidebar_position:7,id:"record_dragAndDrop",title:"react-beautiful-dnd \u7b46\u8a18",tags:["Raect","react-beautiful-dnd"]},d=void 0,p={unversionedId:"record/record_dragAndDrop",id:"record/record_dragAndDrop",title:"react-beautiful-dnd \u7b46\u8a18",description:"Drag & Drop Concept in JS",source:"@site/docs/record/record_dragAndDrop.md",sourceDirName:"record",slug:"/record/record_dragAndDrop",permalink:"/myWebsite/docs/record/record_dragAndDrop",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/record/record_dragAndDrop.md",tags:[{label:"Raect",permalink:"/myWebsite/docs/tags/raect"},{label:"react-beautiful-dnd",permalink:"/myWebsite/docs/tags/react-beautiful-dnd"}],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,id:"record_dragAndDrop",title:"react-beautiful-dnd \u7b46\u8a18",tags:["Raect","react-beautiful-dnd"]},sidebar:"tutorialSidebar",previous:{title:"What happens when I click the URL?",permalink:"/myWebsite/docs/record/record_URL_to_website"},next:{title:"sort by multiple conditions w/ flexible way",permalink:"/myWebsite/docs/record/record_sort_mutiple_conditions"}},s=[{value:"Drag &amp; Drop Concept in JS",id:"drag--drop-concept-in-js",children:[],level:2},{value:"react-beautiful-dnd \u7d44\u6210\u8981\u4ef6",id:"react-beautiful-dnd-\u7d44\u6210\u8981\u4ef6",children:[{value:"(\u4e00) <code>DragDropContext</code>",id:"\u4e00-dragdropcontext",children:[],level:3},{value:"(\u4e8c) <code>Droppable</code>",id:"\u4e8c-droppable",children:[{value:"\u5bb9\u5668\u7d44\u4ef6\uff0c\u627f\u63a5 Draggable",id:"\u5bb9\u5668\u7d44\u4ef6\u627f\u63a5-draggable",children:[],level:4},{value:"\u7d50\u69cb\u5716",id:"\u7d50\u69cb\u5716",children:[],level:4}],level:3},{value:"(\u4e09) <code>Droppable</code>",id:"\u4e09-droppable",children:[{value:"\u62d6\u66f3\u5143\u4ef6",id:"\u62d6\u66f3\u5143\u4ef6",children:[],level:4}],level:3}],level:2},{value:"\u5be6\u4f5c",id:"\u5be6\u4f5c",children:[],level:2},{value:"\u8cc7\u6599\u7d50\u69cb",id:"\u8cc7\u6599\u7d50\u69cb",children:[{value:"\u578b\u5225\u5b9a\u7fa9",id:"\u578b\u5225\u5b9a\u7fa9",children:[],level:4},{value:"\u53d6\u8cc7\u6599\u7684\u65b9\u5f0f",id:"\u53d6\u8cc7\u6599\u7684\u65b9\u5f0f",children:[],level:4},{value:"\u66f4\u65b0\u62d6\u62c9\u8cc7\u6599 state",id:"\u66f4\u65b0\u62d6\u62c9\u8cc7\u6599-state",children:[],level:4}],level:2},{value:"\u9047\u5230\u7684\u554f\u984c",id:"\u9047\u5230\u7684\u554f\u984c",children:[{value:"\u62d6\u62c9\u7684\u904e\u7a0b\uff0c\u5143\u4ef6\u6703\u5148\u8dd1\u4f4d\uff0c\u624d\u56de\u5230\u6b63\u78ba\u4f4d\u7f6e",id:"\u62d6\u62c9\u7684\u904e\u7a0b\u5143\u4ef6\u6703\u5148\u8dd1\u4f4d\u624d\u56de\u5230\u6b63\u78ba\u4f4d\u7f6e",children:[],level:3}],level:2},{value:"DEMO",id:"demo",children:[],level:2},{value:"\u53c3\u8003\u8cc7\u6e90",id:"\u53c3\u8003\u8cc7\u6e90",children:[],level:2}],c={toc:s};function u(e){var t=e.components,o=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"drag--drop-concept-in-js"},"Drag & Drop Concept in JS"),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"react-beautiful-dnd-\u7d44\u6210\u8981\u4ef6"},"react-beautiful-dnd \u7d44\u6210\u8981\u4ef6"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"record_dragAndDrop_concept",src:n(1289).Z})),(0,i.kt)("h3",{id:"\u4e00-dragdropcontext"},"(\u4e00) ",(0,i.kt)("inlineCode",{parentName:"h3"},"DragDropContext")),(0,i.kt)("p",null,"Wrap components in drag and drop area, including: ",(0,i.kt)("inlineCode",{parentName:"p"},"Droppable")," & ",(0,i.kt)("inlineCode",{parentName:"p"},"Draggable"),"."),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null," DragDropContextProps \u578b\u5225\u5b9a\u7fa9")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"export interface DragDropContextProps {\n    onBeforeCapture?(before: BeforeCapture): void;\n    onBeforeDragStart?(initial: DragStart): void;\n    onDragStart?(initial: DragStart, provided: ResponderProvided): void;\n    onDragUpdate?(initial: DragUpdate, provided: ResponderProvided): void;\n    // highlight-start \n    onDragEnd(result: DropResult, provided: ResponderProvided): void;\n    // highlight-end \n    children: React.ReactNode | null;\n    dragHandleUsageInstructions?: string | undefined;\n    nonce?: string | undefined;\n    enableDefaultSensors?: boolean | undefined;\n    sensors?: Sensor[] | undefined;\n}\n"))),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"required:")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onDragEnd(result: DropResult, provided: ResponderProvided): void;")),(0,i.kt)("li",{parentName:"ul"},"The responsibility of the onDragEnd is to synchronously update your state to reflect the drag and drop result. "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"result")," \u986f\u793a\u53c3\u8003\uff1a",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'\ud83d\ude80 result:  {\n    combine: null\n    destination: {droppableId: \'filter\', index: 0}\n    draggableId: "currentResponsibleSales.startDate"\n    mode: "FLUID"\n    reason: "DROP"\n    source: {index: 2, droppableId: \'unfilter\'}\n    type: "DEFAULT"\n  }\n')))))),(0,i.kt)("h3",{id:"\u4e8c-droppable"},"(\u4e8c) ",(0,i.kt)("inlineCode",{parentName:"h3"},"Droppable")),(0,i.kt)("h4",{id:"\u5bb9\u5668\u7d44\u4ef6\u627f\u63a5-draggable"},"\u5bb9\u5668\u7d44\u4ef6\uff0c\u627f\u63a5 Draggable"),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null," DroppableProvided \u578b\u5225\u5b9a\u7fa9")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"export interface DroppableProvided {\n  innerRef: (element: HTMLElement | null) => any;\n  placeholder?: React.ReactElement<HTMLElement> | null | undefined;\n  droppableProps: DroppableProvidedProps;\n}\n"))),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null," DroppableProps \u578b\u5225\u5b9a\u7fa9")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"export interface DroppableProps {\n    type?: TypeId | undefined;\n    mode?: DroppableMode | undefined;\n    isDropDisabled?: boolean | undefined;\n    isCombineEnabled?: boolean | undefined;\n    ignoreContainerClipping?: boolean | undefined;\n    renderClone?: DraggableChildrenFn | undefined;\n    getContainerForClone?: (() => React.ReactElement<HTMLElement>) | undefined;\n    direction?: Direction | undefined; // \u6a6b\u6392\u3001\u76f4\u6392\n    // highlight-start \n    droppableId: DroppableId;\n    children(provided: DroppableProvided, snapshot: DroppableStateSnapshot): React.ReactElement<HTMLElement>;\n    // highlight-end \n}\n"))),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"required:")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("h4",{parentName:"div",id:"droppable"},"Droppable"),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key"),": for React"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"droppableId"),": string\uff0c\u5bb9\u5668ID"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"(provided): React.ReactElement<HTMLElement> => {...}")," : children function",(0,i.kt)("br",null),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"react-beautiful-dnd")," \u63d0\u4f9b\u56de\u50b3 ReactElement \u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u8005\u81ea\u5b9a\u7fa9 ReactElement \u5167\u5bb9\uff0cchildren function return. "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"provided")," \u662f\u4e00\u7269\u4ef6\uff0c\u5305\u542b",(0,i.kt)("inlineCode",{parentName:"li"},"innerRef"),"\u3001",(0,i.kt)("inlineCode",{parentName:"li"},"droppableProps"),"\u3001",(0,i.kt)("inlineCode",{parentName:"li"},"placeholder"))))),(0,i.kt)("hr",{parentName:"div"}),(0,i.kt)("h4",{parentName:"div",id:"\u5bb9\u5668\u7d44\u4ef6\u627f\u63a5-children-function-\u7b2c\u4e00\u500b\u53c3\u6578-props-provided"},"\u5bb9\u5668\u7d44\u4ef6\u627f\u63a5 children function \u7b2c\u4e00\u500b\u53c3\u6578 props ",(0,i.kt)("inlineCode",{parentName:"h4"},"provided")),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ref={provided.innerRef}"),": \u5c07\u81ea\u8a02\u5bb9\u5668\u7d44\u4ef6\u7684DOM\u7bc0\u9ede\u63d0\u4f9b\u7d66 ",(0,i.kt)("inlineCode",{parentName:"li"},"react-beautiful-dnd")," \u53c3\u8003\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"{...provided.droppableProps}"),": \u5c07",(0,i.kt)("inlineCode",{parentName:"li"},"react-beautiful-dnd"),"\u8cc7\u8a0a\u900f\u904e props \u50b3\u7d66\u5bb9\u5668\u7d44\u4ef6\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"{provided.placeholder}"),": \u62d6\u66f3\u5143\u4ef6\u6642\uff0c\u7a7a\u51fa\u4e00\u5143\u4ef6\u5bec\u5ea6\u3002")))),(0,i.kt)("h4",{id:"\u7d50\u69cb\u5716"},"\u7d50\u69cb\u5716"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"  <Droppable\n    key={}\n    droppableId={}\n  >\n    {(provided) => (\n      <\u5bb9\u5668\u7d44\u4ef6 \n        ref={provided.innerRef}\n        {...provided.droppableProps}\n      >\n        // content in here\n        {provided.placeholder}\n      </\u5bb9\u5668\u7d44\u4ef6>\n    )}\n  </Droppable>\n\n")),(0,i.kt)("h3",{id:"\u4e09-droppable"},"(\u4e09) ",(0,i.kt)("inlineCode",{parentName:"h3"},"Droppable")),(0,i.kt)("h4",{id:"\u62d6\u66f3\u5143\u4ef6"},"\u62d6\u66f3\u5143\u4ef6"),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null," DroppableProps \u578b\u5225\u5b9a\u7fa9")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"export type DraggableChildrenFn = (\n  // highlight-start \n  provided: DraggableProvided,\n  // highlight-end \n  snapshot: DraggableStateSnapshot,\n  rubric: DraggableRubric,\n) => React.ReactElement<HTMLElement>;\n\nexport interface DraggableProps {\n    // highlight-start \n    draggableId: DraggableId;\n    index: number;\n    children: DraggableChildrenFn;\n    // highlight-end \n    isDragDisabled?: boolean | undefined;\n    disableInteractiveElementBlocking?: boolean | undefined;\n    shouldRespectForcePress?: boolean | undefined;\n}\n"))),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"required:")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"key"),": for React")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"draggableId"),": string\uff0c\u6bcf\u500b\u62d6\u66f3\u5143\u4ef6ID",(0,i.kt)("br",null))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"index"),": \u62d6\u66f3\u5143\u4ef6\u4f4d\u7f6e(\u9806\u5e8f)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"(provided): React.ReactElement<HTMLElement> => {...}")," : children function",(0,i.kt)("br",null),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"react-beautiful-dnd")," \u63d0\u4f9b\u56de\u50b3 ReactElement \u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u8005\u81ea\u5b9a\u7fa9 ReactElement \u5167\u5bb9\uff0cchildren function return. "),(0,i.kt)("hr",{parentName:"li"}),(0,i.kt)("h4",{parentName:"li",id:"\u62d6\u66f3\u7d44\u4ef6\u627f\u63a5-children-function-\u53c3\u6578-provided"},"\u62d6\u66f3\u7d44\u4ef6\u627f\u63a5 children function \u53c3\u6578 ",(0,i.kt)("inlineCode",{parentName:"h4"},"provided"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ref={provided.innerRef}"),": \u5c07\u62d6\u66f3\u7d44\u4ef6\u7684DOM\u7bc0\u9ede\u63d0\u4f9b\u7d66 ",(0,i.kt)("inlineCode",{parentName:"p"},"react-beautiful-dnd")," \u53c3\u8003\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"{...provided.draggableProps}"),": \u5c07",(0,i.kt)("inlineCode",{parentName:"p"},"react-beautiful-dnd"),"\u8cc7\u8a0a\u900f\u904e props \u50b3\u7d66\u62d6\u66f3\u7d44\u4ef6\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"{...provided.dragHandleProps}"),": \u5c07 drag \u9014\u4e2d\u8cc7\u8a0a\u8a18\u9304\u8d77\u4f86\uff0c\u900f\u904e props \u50b3\u7d66\u62d6\u66f3\u7d44\u4ef6\u3002         ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#draghandleprops-type-information"},"dragHandleProps")))))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"\u5be6\u4f5c"},"\u5be6\u4f5c"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"GOAL")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"  \u88fd\u4f5c\u5171\u5169\u5206\u985e\uff1a\u5df2\u52a0\u5165\u7be9\u9078\u3001\u672a\u52a0\u5165\u7be9\u9078\uff0c\u9ede\u64ca\u62d6\u62c9\u505a\u5206\u985e\u3002"))),(0,i.kt)("h2",{id:"\u8cc7\u6599\u7d50\u69cb"},"\u8cc7\u6599\u7d50\u69cb"),(0,i.kt)("h4",{id:"\u578b\u5225\u5b9a\u7fa9"},"\u578b\u5225\u5b9a\u7fa9"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"type.ts","type.ts":!0},'  export enum FilterConfig {\n      FILTER = "filter",\n      UNFILTER = "unfilter",\n  };\n \n  export interface GraggableStructure{\n    sortData: {\n        [key: string]: { id: string; name: string; }\n    },\n    groups: {\n        [key: string]: { id: string; title: string; filterSortIds: string[]; }\n    },\n    groupsOrder: string[]\n  }\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"initDragDopData.ts","initDragDopData.ts":!0},'const initDragAndDropData = {\n    sortData: {\n        "sortData-1" : { id: "sortData-1", name: "\u5ba2\u6236\u7de8\u865f" },\n        "sortData-2" : { id: "sortData-2", name: "\u696d\u52d9" },\n        "sortData-3" : { id: "sortData-3", name: "\u958b\u59cb\u65e5\u671f" },\n        "sortData-4" : { id: "sortData-4", name: "\u72c0\u614b" },\n    },\n    groups: {\n        "filter" : {\n            id: FilterConfig.FILTER, \n            title: "\u5df2\u52a0\u5165\u7be9\u9078", \n            filterSortIds: []\n        },\n        "unfilter" : {\n            id: FilterConfig.UNFILTER, \n            title: "\u672a\u52a0\u5165\u7be9\u9078", \n            filterSortIds: ["sortData-1", "sortData-2", "sortData-3", "sortData-4"]\n        },\n    },\n    groupsOrder: [FilterConfig.FILTER, FilterConfig.UNFILTER]\n}\n')),(0,i.kt)("h4",{id:"\u53d6\u8cc7\u6599\u7684\u65b9\u5f0f"},"\u53d6\u8cc7\u6599\u7684\u65b9\u5f0f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"  initDragAndDropData.groupsOrder.map(order => {\n    // To get target group\n    const group = initDragAndDropData.groups[order];\n    // To get target sortData\n    const sortData = group.filterSortIds.map(sortId => initDragAndDropData.sortData[sortId])\n  })\n")),(0,i.kt)("h4",{id:"\u66f4\u65b0\u62d6\u62c9\u8cc7\u6599-state"},"\u66f4\u65b0\u62d6\u62c9\u8cc7\u6599 state"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"  const handleDragEnd = (result: DropResult) => {\n    const { source, destination } = result;\n    const tempData: GraggableStructure = JSON.parse(JSON.stringify(data));\n\n    const filterSortIds = tempData.groups[source.droppableId].filterSortIds;\n    const [removed] = filterSortIds.splice(source.index, 1);\n    filterSortIds.splice(destination.index, 0, removed);\n\n    setData(tempData);\n  }\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"\u9047\u5230\u7684\u554f\u984c"},"\u9047\u5230\u7684\u554f\u984c"),(0,i.kt)("h3",{id:"\u62d6\u62c9\u7684\u904e\u7a0b\u5143\u4ef6\u6703\u5148\u8dd1\u4f4d\u624d\u56de\u5230\u6b63\u78ba\u4f4d\u7f6e"},"\u62d6\u62c9\u7684\u904e\u7a0b\uff0c\u5143\u4ef6\u6703\u5148\u8dd1\u4f4d\uff0c\u624d\u56de\u5230\u6b63\u78ba\u4f4d\u7f6e"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/59130533/items-jumping-when-dropping-on-react-beautiful-dnd"},"Items jumping when dropping on react beautiful dnd")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"\u89e3\u6c7a\u65b9\u6cd5\u53d6\u6d88\u6211\u5143\u4ef6\u8a2d\u5b9a\u7684-transition-css"},"\u89e3\u6c7a\u65b9\u6cd5\uff1a\u53d6\u6d88\u6211\u5143\u4ef6\u8a2d\u5b9a\u7684 transition css"))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"demo"},"DEMO"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://codesandbox.io/embed/practice-react-beautiful-dnd-typescript-fi4yxz?fontsize=14&hidenavigation=1&theme=dark"}," \b\u270e DEMO")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"\u53c3\u8003\u8cc7\u6e90"},"\u53c3\u8003\u8cc7\u6e90"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/atlassian/react-beautiful-dnd"},"react-beautiful-dnd")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://andyyou.github.io/2019/06/04/react-beautiful-dnd-quick-note/"},"React Beautiful Dnd \u5feb\u901f\u4f7f\u7528\u7b46\u8a18")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_draganddrop2"},"Drag and Drop in JS - W3 Schools")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wearecommunity.io/communities/india-united-ui-community/articles/1242"},"Drag and Drop functionality using react-beautiful-dnd")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://dev.to/raathigesh/scripted-natural-motion-with-react-beautiful-dnd-4ifj"},"Scripted natural motion with react-beautiful-dnd")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://react-beautiful-dnd.netlify.app/?path=/story/multiple-horizontal-lists--stress-test"},"react-beautiful-dnd example")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://egghead.io/lessons/react-customise-the-appearance-of-an-app-during-a-drag-using-react-beautiful-dnd-snapshot-values"},"react-beautiful-dnd tutorial video - egghead.io"))))}u.isMDXComponent=!0},1289:function(e,t,n){t.Z=n.p+"assets/images/record_dragAndDrop_concept-60d160719f50a414e95fd493774d4a28.png"}}]);