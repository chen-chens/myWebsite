"use strict";(self.webpackChunkchenchens=self.webpackChunkchenchens||[]).push([[1951],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),d=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,k=m["".concat(o,".").concat(u)]||m[u]||c[u]||i;return n?a.createElement(k,l(l({ref:t},p),{},{components:n})):a.createElement(k,l({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},407:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return p},default:function(){return m}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),l=["components"],s={sidebar_position:1,tags:["Next.js"]},o="Intro",d={unversionedId:"next/next_intro",id:"next/next_intro",title:"Intro",description:"\u7528\u4f86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f",source:"@site/docs/next/next_intro.md",sourceDirName:"next",slug:"/next/next_intro",permalink:"/myWebsite/docs/next/next_intro",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/next/next_intro.md",tags:[{label:"Next.js",permalink:"/myWebsite/docs/tags/next-js"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,tags:["Next.js"]},sidebar:"tutorialSidebar",previous:{title:"CORS",permalink:"/myWebsite/docs/node/node_cors"},next:{title:"Foundation of Next.js",permalink:"/myWebsite/docs/next/next_foundations"}},p=[{value:"\u7528\u4f86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f",id:"\u7528\u4f86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c",children:[],level:2},{value:"What is Next.js ?",id:"what-is-nextjs-",children:[{value:"React: Client-Side Rendering",id:"react-client-side-rendering",children:[],level:3},{value:"Next: \u652f\u63f4 SSR\u3001SSG\u3001CSR",id:"next-\u652f\u63f4-ssrssgcsr",children:[],level:3},{value:"\u88dc\u5145\u6574\u7406: CSR vs. SSR vs. SSG",id:"\u88dc\u5145\u6574\u7406-csr-vs-ssr-vs-ssg",children:[],level:3},{value:"Next.js \u652f\u63f4\uff1aCSR / SSR / SSG",id:"nextjs-\u652f\u63f4csr--ssr--ssg",children:[],level:3},{value:"Next \u8cc7\u6599\u7d50\u69cb",id:"next-\u8cc7\u6599\u7d50\u69cb",children:[],level:3},{value:"\u975c\u614b\u8def\u5f91 \u8207 \u52d5\u614b\u8def\u5f91",id:"\u975c\u614b\u8def\u5f91-\u8207-\u52d5\u614b\u8def\u5f91",children:[],level:3},{value:"getServerSideProps (SSR) \u7bc4\u4f8b",id:"getserversideprops-ssr-\u7bc4\u4f8b",children:[{value:"\u5728\u6bcf\u6b21send request \u7684\u6642\u5019\u904b\u884c\u3002",id:"\u5728\u6bcf\u6b21send-request-\u7684\u6642\u5019\u904b\u884c",children:[],level:4},{value:"\u8981\u7279\u5225\u7559\u610f\uff1a\u54ea\u4e9b\u7a0b\u5f0f\u78bc \u662f\u5728 Client-Side \u57f7\u884c\uff0c\u54ea\u5beb\u5728 Server-Side \u57f7\u884c\u3002",id:"\u8981\u7279\u5225\u7559\u610f\u54ea\u4e9b\u7a0b\u5f0f\u78bc-\u662f\u5728-client-side-\u57f7\u884c\u54ea\u5beb\u5728-server-side-\u57f7\u884c",children:[],level:4}],level:3},{value:"<code>getStaticProps (SSG)</code> + <code>getStaticPaths (SSG)</code> \u7bc4\u4f8b",id:"getstaticprops-ssg--getstaticpaths-ssg-\u7bc4\u4f8b",children:[],level:3},{value:"getStaticPaths() \u56de\u50b3\u578b\u5225",id:"getstaticpaths-\u56de\u50b3\u578b\u5225",children:[],level:3},{value:"Incremental Static Regeneration (ISR)",id:"incremental-static-regeneration-isr",children:[],level:3},{value:"\u53c3\u8003\u8cc7\u6e90",id:"\u53c3\u8003\u8cc7\u6e90",children:[],level:3}],level:2}],c={toc:p};function m(e){var t=e.components,s=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"intro"},(0,i.kt)("inlineCode",{parentName:"h1"},"Intro")),(0,i.kt)("h2",{id:"\u7528\u4f86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c"},"\u7528\u4f86\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u89e3\u6c7a React SEO \u7684\u554f\u984c\u3002"),(0,i.kt)("li",{parentName:"ul"},"React \u5c08\u6ce8 UI\uff0cNext \u5c08\u6ce8\u5efa\u7f6e\u8207\u512a\u5316\u3002"),(0,i.kt)("li",{parentName:"ul"},"Next \u5305\u542b Route setting\u3001data fetching")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"what-is-nextjs-"},"What is Next.js ?"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("h3",{parentName:"div",id:"nextjs-is-a-react-framework-that-gives-you-building-blocks-to-create-web-applications"},"Next.js is a React framework that gives you building blocks to create web applications."),(0,i.kt)("p",{parentName:"div"},"By framework, we mean ",(0,i.kt)("strong",{parentName:"p"},"Next.js handles the tooling and configuration needed for React,\nand provides additional structure, features, and optimizations for your application.")),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://nextjs.org/learn/foundations/about-nextjs/what-is-nextjs"},"\u8cc7\u6599\u4f86\u6e90\uff1a\u5b98\u7db2"))))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"react-client-side-rendering"},"React: Client-Side Rendering"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Render web by browser"),(0,i.kt)("li",{parentName:"ul"},"\u89e3\u6790\u7db2\u9801\u9806\u5e8f\uff1a",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"li"},"send request to server/server response")," --\x3e ",(0,i.kt)("inlineCode",{parentName:"li"},"HTML loading")," --\x3e ",(0,i.kt)("inlineCode",{parentName:"li"},"\u8f09\u5165 JS")," --\x3e ",(0,i.kt)("inlineCode",{parentName:"li"},"render web")),(0,i.kt)("li",{parentName:"ul"},"\u9020\u6210\u554f\u984c\uff1a",(0,i.kt)("br",null),"\n\uff08\u4e00\uff09\u4e00\u5207\u8981\u7b49 JS bundle \u9810\u8f09\u597d\uff0c\u6548\u80fd\u8f03\u4e0d\u597d (User friendly bad)",(0,i.kt)("br",null),"\n\uff08\u4e8c\uff09\u722c\u87f2\u6c92\u6709\u6771\u897f\u722c\uff0cSEO \u4e0d\u6703\u597d (\u6240\u6709\u8cc7\u6599\u90fd\u8981\u53bb server \u62ff)\u3002",(0,i.kt)("br",null),"\n\uff08\u4e09\uff09\u5716\u6848\u6a94\u6848\u512a\u5316\u8981\u81ea\u884c\u8a2d\u5b9a\u3002\n",(0,i.kt)("img",{parentName:"li",src:"https://s3.amazonaws.com/scribblelive-com-prod/wp-content/uploads/sites/4/2020/10/CSR.png",alt:"Client-Side Rendering"}),(0,i.kt)("a",{parentName:"li",href:"https://laptrinhx.com/client-side-rendering-vs-server-side-rendering-which-one-is-better-44494895"},"\u8cc7\u6599\u4f86\u6e90"))),(0,i.kt)("h3",{id:"next-\u652f\u63f4-ssrssgcsr"},"Next: \u652f\u63f4 SSR\u3001SSG\u3001CSR"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"SSR")," \u89e3\u6790\u7db2\u9801\u9806\u5e8f\uff1a ",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"li"},"send request to server/server response complete HTML"),"  --\x3e ",(0,i.kt)("inlineCode",{parentName:"li"},"pre-render default web/\u8f09\u5165 JS")," --\x3e ",(0,i.kt)("inlineCode",{parentName:"li"},"render web")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"SSR")," \u89e3\u6c7a ",(0,i.kt)("inlineCode",{parentName:"li"},"React")," \u554f\u984c\uff1a",(0,i.kt)("strong",{parentName:"li"},"\u6539\u8b8a\u6e32\u67d3\u9806\u5e8f"),(0,i.kt)("br",null),"\n\uff08\u4e00\uff09\u53ef\u4ee5\u6c7a\u5b9a\u54ea\u4e9b\u5167\u5bb9\u5148 pre-render \u6216 \u63d0\u4f9b\u975c\u614b\u7db2\u9801 (User friendly better)",(0,i.kt)("br",null),"\n\uff08\u4e8c\uff09\u722c\u87f2\u6709\u6771\u897f\u722c\uff0cSEO \u8f03\u4f73\u3002",(0,i.kt)("br",null),"\n\uff08\u4e09\uff09\u5716\u6848\u6a94\u6848\u512a\u5316 \u6709\u63d0\u4f9b\u81ea\u52d5\u5316\u89e3\u6c7a\u65b9\u6848\u3002\n",(0,i.kt)("img",{parentName:"li",src:"https://s3.amazonaws.com/scribblelive-com-prod/wp-content/uploads/sites/4/2020/10/SSR.png",alt:"Server-Side Rendering"}),(0,i.kt)("a",{parentName:"li",href:"https://laptrinhx.com/client-side-rendering-vs-server-side-rendering-which-one-is-better-44494895"},"\u8cc7\u6599\u4f86\u6e90"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"\u88dc\u5145\u6574\u7406-csr-vs-ssr-vs-ssg"},"\u88dc\u5145\u6574\u7406: CSR vs. SSR vs. SSG"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"--"),(0,i.kt)("th",{parentName:"tr",align:null},"\u5168\u540d"),(0,i.kt)("th",{parentName:"tr",align:null},"props"),(0,i.kt)("th",{parentName:"tr",align:null},"cons"),(0,i.kt)("th",{parentName:"tr",align:null},"\u5099\u8a3b"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CSR"),(0,i.kt)("td",{parentName:"tr",align:null},"Client-Side Rendering"),(0,i.kt)("td",{parentName:"tr",align:null},"\u7b2c\u4e00\u6b21\u8f09\u5165 JS bundle \u8f03\u6162\uff0c\u4e4b\u5f8c\u7684\u9801\u9762\u700f\u89bd\u8f03\u5feb\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},"\u4e0d\u5229SEO \u8207 \u6548\u80fd"),(0,i.kt)("td",{parentName:"tr",align:null},"--")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SSR"),(0,i.kt)("td",{parentName:"tr",align:null},"Server-Side Rendering"),(0,i.kt)("td",{parentName:"tr",align:null},"SEO\u8207\u6548\u80fd \u8f03 CSR \u4f73\u3002 ",(0,i.kt)("br",null),"\b",(0,i.kt)("inlineCode",{parentName:"td"},"server response dynamically generated HTML/CSS/JS")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6bcf\u9801\u90fd\u7531 Server render, server loading \u91cd\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},"\u9700\u642d\u914d ",(0,i.kt)("inlineCode",{parentName:"td"},"\u52d5\u614b sitemap\u3001robots.txt"),"\u5e6b\u52a9 SEO")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SSG"),(0,i.kt)("td",{parentName:"tr",align:null},"Static-Side Generation"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"\u5728 build \u6642\u5c31\u7522\u751f\u8cc7\u6599\uff0c\u9810\u8f09\u901f\u5ea6\u6700\u5feb\u3002"),(0,i.kt)("inlineCode",{parentName:"td"},"server response complete static HTML/CSS/JS")),(0,i.kt)("td",{parentName:"tr",align:null},"\u53ea\u9069\u5408",(0,i.kt)("strong",{parentName:"td"},"\u5927\u90e8\u5206\u975c\u614b"),"\u7684\u7db2\u9801\u4f7f\u7528\uff0c\u5e38\u8b8a\u66f4\u5efa\u8b70\u7528SSR\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},"\u722c\u87f2\u53ef\u4ee5\u722c\uff0c\u4f46\u4e0d\u9069\u5408\u5167\u5bb9\u8b8a\u52d5\u5feb\u901f\u7684\u7db2\u7ad9\u3002")))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"nextjs-\u652f\u63f4csr--ssr--ssg"},"Next.js \u652f\u63f4\uff1aCSR / SSR / SSG"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u65b9\u6cd5"),(0,i.kt)("th",{parentName:"tr",align:null},"\u904b\u884c\u6642\u6a5f \u8207 \u5167\u5bb9"),(0,i.kt)("th",{parentName:"tr",align:null},"\u7bc4\u4f8b"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"getStaticProps (SSG)")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5728 build \u7684\u6642\u5019\u6293\u53d6\u8cc7\u6599\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#getserversideprops-ssr-%E7%AF%84%E4%BE%8B"},"\u7bc4\u4f8b"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"getStaticPaths (SSG)")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5728 build \u7684\u6642\u5019\u6293\u53d6\u9810\u8655\u7406\u7684\u52d5\u614b\u7bc4\u570d\u3002 ",(0,i.kt)("br",null)," \u4f8b\uff1aURL \u52d5\u614bid\u3002\u7bc4\u570d id = 1 ~ 10 \u5148\u9810\u8f09\u8cc7\u6599\uff0c",(0,i.kt)("br",null),"\u7bc4\u570d\u4e4b\u5916\u56de\u5230 ",(0,i.kt)("inlineCode",{parentName:"td"},"getServerSideProps()")," \u53d6\u503c\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#getstaticprops-ssg--getstaticpaths-ssg-%E7%AF%84%E4%BE%8B"},"\u7bc4\u4f8b"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"getServerSideProps (SSR)")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5728 client send request \u6642\uff0cserver-side \u57f7\u884c\u3002"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#getstaticprops-ssg--getstaticpaths-ssg-%E7%AF%84%E4%BE%8B"},"\u7bc4\u4f8b"))))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"next-\u8cc7\u6599\u7d50\u69cb"},"Next \u8cc7\u6599\u7d50\u69cb"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Next \u8cc7\u6599\u7d50\u69cb",src:n(2094).Z})),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"\u975c\u614b\u8def\u5f91-\u8207-\u52d5\u614b\u8def\u5f91"},"\u975c\u614b\u8def\u5f91 \u8207 \u52d5\u614b\u8def\u5f91"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u8cc7\u6599\u593e\u8def\u5f91 = URL\uff0c \u52d5\u614b\u8b8a\u6578 \u5c0d\u61c9\u6307\u5b9a\u8cc7\u6599\u3002")),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Each page is associated with a route based on its file name."))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u975c\u614b\u8def\u5f91\uff1a",(0,i.kt)("a",{parentName:"li",href:"http://localhost:3000/"},(0,i.kt)("inlineCode",{parentName:"a"},"http://localhost:3000/"))," \u5c0d\u61c9\u5230 \u8cc7\u6599\u593e\u7d50\u69cb ",(0,i.kt)("inlineCode",{parentName:"li"},"pages/index.tsx")),(0,i.kt)("li",{parentName:"ul"},"\u52d5\u614b\u8def\u5f91\uff1a",(0,i.kt)("a",{parentName:"li",href:"http://localhost:3000/post/2"},(0,i.kt)("inlineCode",{parentName:"a"},"http://localhost:3000/post/2"))," \u5c0d\u61c9\u5230 \u8cc7\u6599\u593e\u7d50\u69cb ",(0,i.kt)("inlineCode",{parentName:"li"},"pages/post/[id].tsx"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"\u52d5\u614b\u8def\u5f91\u5c0d\u61c9\u8cc7\u6599\u593e",src:n(8855).Z})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="./pages/post/[id].tsx"',title:'"./pages/post/[id].tsx"'},"    import { useRouter } from 'next/router'\n\n    const Post = () => {\n        const router = useRouter() // \u53d6\u5f97 URL \u5167\u5bb9\n        const {id} = router.query\n\n        return(\n            <h1>PostId: {id}</h1>\n        )\n    }\n\n    export default Post\n")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"getserversideprops-ssr-\u7bc4\u4f8b"},"getServerSideProps (SSR) \u7bc4\u4f8b"),(0,i.kt)("h4",{id:"\u5728\u6bcf\u6b21send-request-\u7684\u6642\u5019\u904b\u884c"},"\u5728\u6bcf\u6b21send request \u7684\u6642\u5019\u904b\u884c\u3002"),(0,i.kt)("h4",{id:"\u8981\u7279\u5225\u7559\u610f\u54ea\u4e9b\u7a0b\u5f0f\u78bc-\u662f\u5728-client-side-\u57f7\u884c\u54ea\u5beb\u5728-server-side-\u57f7\u884c"},"\u8981\u7279\u5225\u7559\u610f\uff1a\u54ea\u4e9b\u7a0b\u5f0f\u78bc \u662f\u5728 Client-Side \u57f7\u884c\uff0c\u54ea\u5beb\u5728 Server-Side \u57f7\u884c\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"getServerSideProps (SSR) \u7bc4\u4f8b",src:n(3392).Z})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="./pages/post/[id].tsx"',title:'"./pages/post/[id].tsx"'},"    import { GetServerSideProps } from 'next'\n\n    interface ResponseType {\n        id: number;\n        name: string;\n        height: number;\n        weight: number;\n    }\n\n    // Client-Side executuon when user calls request.\n    const Post = ({data}:{data: ResponseType}) => {\n\n        return(\n            <section>\n                <h1>{data.name}</h1>\n                <div>\n                    <p>Height: {data.height}</p>\n                    <p>Weight: {data.weight}</p>\n                </div>\n            </section>\n        )\n    }\n\n    export default Post;\n\n\n    // Server-Side executuon when user calls request.\n    export const getServerSideProps: GetServerSideProps = async (context) => {\n        const { id } = context.query // \u53d6\u5f97 URL \u4e0a\u8b8a\u52d5\u7684 id\n        const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`).then((data) => data.json())\n\n        return {\n            props: {data: res}\n        }\n    }\n")),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps")," only runs on server-side and never runs on the browser."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps")," can only be exported from a page. You can\u2019t export it from non-page files."),(0,i.kt)("li",{parentName:"ul"},"Note that you must export ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps")," as a standalone function \u2014 it will not work if you add ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps")," as a property of the page component."),(0,i.kt)("li",{parentName:"ul"},"You should use ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps")," ",(0,i.kt)("strong",{parentName:"li"},"only if you need to render a page whose data must be fetched at request time"),". If you do not need to render the data during the request, then you should consider fetching data on the client side or ",(0,i.kt)("inlineCode",{parentName:"li"},"getStaticProps"),"."),(0,i.kt)("li",{parentName:"ul"},"If an error is thrown inside ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps"),", it will show the pages/500.js file.")),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props#when-does-getserversideprops-run"},"Next.js \u5b98\u7db2"))),(0,i.kt)("hr",{parentName:"div"}),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"Q: `getServerSideProps()` \u662fserver side \u57f7\u884c\uff0c\u57f7\u884c\u6642\u6a5f\u662f build \u7684\u6642\u5019\u55ce ?")),"A: `getServerSideProps()` \u4e0d\u662f\u5728 build \u6642\u57f7\u884c\uff0c\u800c\u662f\u5728\u6bcf\u6b21 client \u7aef request \u6642\u90fd\u6703\u57f7\u884c\u3002"),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"Q: `getServerSideProps()` \u8ddf\u5728 client side call API \u6709\u4ec0\u9ebc\u5dee\u5225\uff1f")),"A: - \u57f7\u884c\u4f4d\u7f6e\uff1a`getServerSideProps()` \u662f\u5728 server side \u57f7\u884c\uff0c\u800c\u5728 client side \u547c\u53eb API \u5247\u662f\u5728 client side \u57f7\u884c\u3002",(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre"},"- \u6548\u80fd\uff1a\u7531\u65bc `getServerSideProps()` \u662f\u5728 server side \u57f7\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5229\u7528 server side \u7684\u8a08\u7b97\u8cc7\u6e90\u548c caching\uff0c\u8f03\u80fd\u63d0\u9ad8\u6548\u80fd\u3002\u800c\u5728 client side \u547c\u53eb API \u5247\u9700\u8981\u7b49\u5f85 server \u56de\u61c9\uff0c\u4e26\u53ef\u80fd\u9700\u8981\u8003\u616e\u8de8\u57df\u7b49\u554f\u984c\u3002\n\n- SEO\uff1a\u7531\u65bc `getServerSideProps()` \u662f\u5728 server side \u57f7\u884c\uff0c\u56e0\u6b64 server side render \u51fa\u4f86\u7684\u9801\u9762\u662f\u5177\u6709\u5b8c\u6574 HTML \u5167\u5bb9\u7684\uff0c\u5c0d SEO \u8f03\u70ba\u53cb\u5584\u3002\u800c\u5728 client side \u547c\u53eb API\uff0c\u9700\u8981\u5148 render \u51fa\u9801\u9762\uff0c\u518d\u900f\u904e JavaScript \u52a0\u8f09\u8cc7\u6599\uff0c\u5c0d SEO \u4e0d\u592a\u53cb\u5584\u3002\n\n\u7e3d\u9ad4\u4f86\u8aaa\uff0c`getServerSideProps()` \u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\u6bd4\u5728 client side \u547c\u53eb API \u66f4\u6709\u512a\u52e2\uff0c\u5c24\u5176\u662f\u5c0d\u65bc\u9700\u8981 SEO\u3001\u6548\u80fd\u548c\u5b89\u5168\u6027\u7684\u61c9\u7528\u3002\n"))),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"Q: \u5982\u679c\u8aaa `getServerSideProps()` \u57f7\u884c\u6642\u6a5f\u662f\u5728 client \u89f8\u767c request \u57f7\u884c\uff0c\u90a3 google \u722c\u87f2\u4e5f\u7121\u6cd5\u4e8b\u5148\u77e5\u9053\u9801\u9762\u5167\u5bb9\uff0c\u600e\u9ebc\u5e6b\u52a9 SEO ?")),"A: ",(0,i.kt)("br",null),(0,i.kt)("p",null,"\u7576\u4f7f\u7528 getServerSideProps() \u6642\uff0c\u9801\u9762\u7684 HTML \u5167\u5bb9\u78ba\u5be6\u662f\u5728 server side render \u6642\u751f\u6210\u7684\uff0c\u800c\u4e14\u53ea\u6709\u5728 client side request \u6642\u624d\u6703\u751f\u6210\u3002",(0,i.kt)("strong",null,"\u56e0\u6b64\uff0c\u7576 Google \u722c\u87f2\u8a2a\u554f\u60a8\u7684\u7db2\u7ad9\u6642\uff0c\u5b83\u4e0d\u6703\u770b\u5230\u8207 client side request \u6642\u76f8\u540c\u7684 HTML \u5167\u5bb9\uff0c\u9019\u5c0d\u65bc SEO \u4e0d\u5229\u3002")),(0,i.kt)("p",null,"\u70ba\u4e86\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0cNext.js \u63d0\u4f9b\u4e86\u4e00\u500b\u540d\u70ba getStaticProps() \u7684\u65b9\u6cd5\uff0c\u5b83\u6703\u5728 build \u6642\u5c31\u751f\u6210 HTML \u5167\u5bb9\uff0c\u4e26\u5c07\u5176\u5b58\u5132\u5728\u975c\u614b\u6587\u4ef6\u4e2d\uff0c\u9019\u6a23 Google \u722c\u87f2\u8a2a\u554f\u60a8\u7684\u7db2\u7ad9\u6642\u5c31\u53ef\u4ee5\u770b\u5230\u5b8c\u6574\u7684 HTML \u5167\u5bb9\uff0c\u5f9e\u800c\u63d0\u9ad8 SEO\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",(0,i.kt)("strong",null,"getStaticProps() \u53ea\u9069\u7528\u65bc\u975c\u614b\u7db2\u9801\u6216\u8005\u662f\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u52d5\u614b\u751f\u6210\u7684\u9801\u9762\u3002")),"\u5982\u679c\u60a8\u9700\u8981\u4f7f\u7528 getServerSideProps()\uff0c\u5efa\u8b70\u53ef\u4ee5\u4f7f\u7528\u984d\u5916\u7684\u6280\u8853\u4f86\u512a\u5316 SEO\uff0c\u4f8b\u5982\u4f7f\u7528",(0,i.kt)("strong",null,"\u52d5\u614b sitemap\u3001robots.txt \u7b49\u6280\u8853\uff0c\u5f9e\u800c\u8b93 Google \u722c\u87f2\u66f4\u597d\u5730\u7406\u89e3\u60a8\u7684\u7db2\u7ad9\u3002")),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"Q: `getServerSideProps()` \u53ef\u4ee5\u642d\u914d useState \u4f7f\u7528\u55ce ?")),"A: \u53ef\u4ee5\u3002\u5728\u4f7f\u7528 getServerSideProps \u7684\u60c5\u6cc1\u4e0b\uff0c\u56e0\u70ba\u6bcf\u6b21\u8acb\u6c42\u90fd\u6703\u57f7\u884c\u8a72\u51fd\u6578\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5728\u8a72\u51fd\u6578\u5167\u4f7f\u7528 useState \u4f86\u8655\u7406\u52d5\u614b\u7684\u72c0\u614b\u908f\u8f2f\uff0c\u4f8b\u5982\u8655\u7406\u4f7f\u7528\u8005\u8f38\u5165\u3001\u8868\u55ae\u9a57\u8b49\u7b49\u7b49\u3002",(0,i.kt)("strong",null,"\u7531\u65bc getServerSideProps \u5728 server side \u57f7\u884c\uff0c\u6bcf\u6b21\u8acb\u6c42\u90fd\u6703\u91cd\u65b0\u57f7\u884c\uff0c\u56e0\u6b64\u6bcf\u6b21\u4f7f\u7528 useState \u90fd\u6703\u662f\u4e00\u500b\u65b0\u7684\u521d\u59cb\u72c0\u614b\u3002"),"\u5982\u679c\u60a8\u9700\u8981\u4fdd\u7559\u72c0\u614b\uff0c\u4f8b\u5982\u8b93\u4f7f\u7528\u8005\u5728\u591a\u500b\u9801\u9762\u9593\u5207\u63db\u6642\u7dad\u6301\u67d0\u4e9b\u72c0\u614b\uff0c\u5247\u53ef\u4ee5\u8003\u616e\u4f7f\u7528\u5176\u4ed6\u72c0\u614b\u7ba1\u7406\u5de5\u5177\uff0c\u4f8b\u5982 Redux \u6216 MobX\u3002"),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"Q: \u6211\u9700\u8981\u518d\u9801\u9762\u4e0a\u8a2d\u7f6e `useEffect` \u53bb\u5075\u6e2c `getServerSideProps` \u50b3\u503c\u4f86\u66f4\u65b0\u8cc7\u6599\u55ce ?")),"A: \u4e0d\u9700\u8981\u7279\u5225\u8a2d\u7f6e useEffect \u53bb\u5075\u6e2c getServerSideProps \u7684\u50b3\u503c\u4f86\u66f4\u65b0\u8cc7\u6599\uff0c\u56e0\u70ba\u5728\u4f7f\u7528 getServerSideProps \u7684\u60c5\u6cc1\u4e0b\uff0c\u9801\u9762\u7684\u521d\u59cb\u8cc7\u6599\u5df2\u7d93\u662f\u7531\u4f3a\u670d\u5668\u7aef\u63d0\u4f9b\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u900f\u904e useEffect \u6216\u5176\u4ed6\u65b9\u5f0f\u5728\u5ba2\u6236\u7aef\u91cd\u65b0\u6e32\u67d3\u9801\u9762\u3002",(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre"},"\u7576\u4f7f\u7528\u8005\u9996\u6b21\u8f09\u5165\u9801\u9762\u6642\uff0cNext.js \u6703\u547c\u53eb getServerSideProps \u4f86\u53d6\u5f97\u521d\u59cb\u8cc7\u6599\uff0c\u4e26\u4e14\u5c07\u8cc7\u6599\u4f5c\u70ba props \u50b3\u905e\u7d66\u9801\u9762\u3002\u4f7f\u7528\u8005\u5728\u8207\u9801\u9762\u4e92\u52d5\u6642\uff0c\u53ef\u4ee5\u900f\u904e\u7db2\u8def\u8acb\u6c42\u5411\u4f3a\u670d\u5668\u7aef\u53d6\u5f97\u6700\u65b0\u7684\u8cc7\u6599\uff0c\u7136\u5f8c\u518d\u900f\u904e\u5ba2\u6236\u7aef\u6e32\u67d3\u66f4\u65b0\u9801\u9762\u3002\n\n\u7c21\u55ae\u4f86\u8aaa\uff0c\u4f7f\u7528 getServerSideProps \u53d6\u5f97\u7684\u8cc7\u6599\u5df2\u7d93\u662f\u5728\u4f3a\u670d\u5668\u7aef\u63d0\u524d\u8655\u7406\u597d\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u984d\u5916\u7684\u5ba2\u6236\u7aef\u6e32\u67d3\u4f86\u66f4\u65b0\u8cc7\u6599\u3002\n"))),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},"by ChatGPT")))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"getstaticprops-ssg--getstaticpaths-ssg-\u7bc4\u4f8b"},(0,i.kt)("inlineCode",{parentName:"h3"},"getStaticProps (SSG)")," + ",(0,i.kt)("inlineCode",{parentName:"h3"},"getStaticPaths (SSG)")," \u7bc4\u4f8b"),(0,i.kt)("div",{className:"admonition admonition-success alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"getStaticProps()")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("h4",{parentName:"div",id:"getstaticprops--\u5728-server-side-call-api\u4f46\u4e0d\u77e5\u9053-\u4f7f\u7528\u8005-\u6703\u6307\u5411\u54ea\u500b-id\u52d5\u614b"},(0,i.kt)("inlineCode",{parentName:"h4"},"getStaticProps()")," : \u5728 Server-Side call API\uff0c\u4f46\u4e0d\u77e5\u9053 \u4f7f\u7528\u8005 \u6703\u6307\u5411\u54ea\u500b id\uff08\u52d5\u614b\uff09"))),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"getStaticPaths()")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("h4",{parentName:"div",id:"getstaticpaths-"},(0,i.kt)("inlineCode",{parentName:"h4"},"getStaticPaths()")," :"),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},"\u9810\u5148\u8a2d\u5b9a \u8f09\u5165id \u7bc4\u570d \u7d66 ",(0,i.kt)("inlineCode",{parentName:"li"},"getStaticProps()")," call API ; "),(0,i.kt)("li",{parentName:"ul"},"\u7bc4\u570d\u4e4b\u5916\u7684\u4e09\u7a2e\u6a21\u5f0f:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"blocking"'),": \u4ea4\u7d66 ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps()")," \u57f7\u884c\u5373\u6642 call API\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"true")," :"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"false"),":")))))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="./pages/post/[id].tsx"',title:'"./pages/post/[id].tsx"'},'    import { GetStaticPaths, GetStaticProps } from \'next\'\n\n    interface ResponseType {\n        id: number;\n        name: string;\n        height: number;\n        weight: number;\n    }\n\n    // Client-Side executuon\n    const Post = ({data}:{data: ResponseType}) => {\n\n        return(\n            <section>\n                <h1>{data.name}</h1>\n                <div>\n                    <p>Height: {data.height}</p>\n                    <p>Weight: {data.weight}</p>\n                </div>\n            </section>\n        )\n    }\n    export default Post;\n\n    // highlight-start\n    // Server-Side Build\n    export const getStaticProps: GetStaticProps = async (context) => {\n        const params = context.params\n        const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${params?.id||""}/`).then((data) => data.json())\n\n        return {\n            props: {data: res},\n            revalidate: 10 // Next.js will send request every 10s.\n        }\n    }\n\n    // Server-Side Build\n    export const getStaticPaths: GetStaticPaths = async () => {\n        const defaultParams = [1, 2, 3, 4, 5] // \u9810\u8f09 id \u7bc4\u570d 1~5 \u7684\u8cc7\u6599\n        \n        return {\n            paths: defaultParams.map((id: number) => ({params: {id: id + ""}})),\n            fallback: "blocking"\n        }\n    }\n    // highlight-end\n')),(0,i.kt)("h3",{id:"getstaticpaths-\u56de\u50b3\u578b\u5225"},"getStaticPaths() \u56de\u50b3\u578b\u5225"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"    export type GetStaticPathsResult<P extends ParsedUrlQuery = ParsedUrlQuery> = {\n        paths: Array<string | { params: P; locale?: string }>\n        // highlight-start\n        fallback: boolean | 'blocking'\n        // highlight-end\n    }\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"next_fallback_blocking",src:n(918).Z}),"\n",(0,i.kt)("img",{alt:"next_fallback_true",src:n(7672).Z}),"\n",(0,i.kt)("img",{alt:"next_fallback_false",src:n(8703).Z})),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"In development (",(0,i.kt)("inlineCode",{parentName:"p"},"next dev"),"), ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," will be called on every request.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," will only run during build in production, it will not be called during runtime.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," must be used with ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticProps"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can export ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," from a Dynamic Route that also uses getStaticProps")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You cannot export ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," from non-page file (e.g. your components folder)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/basic-features/data-fetching/get-static-paths#when-does-getstaticpaths-run"},"Next \u5b98\u7db2")))))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"incremental-static-regeneration-isr"},"Incremental Static Regeneration (ISR)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"ISR \u662f Next.js \u4e2d\u7684\u4e00\u500b\u529f\u80fd\uff0c",(0,i.kt)("strong",{parentName:"li"},"\u5b83\u53ef\u4ee5\u5728 build \u6642\u751f\u6210\u975c\u614b HTML \u5167\u5bb9\uff0c\u4e26\u5728\u4e0b\u4e00\u500b\u7684 request \u6642\u9032\u884c\u66f4\u65b0\u3002")),(0,i.kt)("li",{parentName:"ul"},"ISR \u7684\u76ee\u7684\u662f\u63d0",(0,i.kt)("strong",{parentName:"li"},"\u9ad8\u975c\u614b\u7db2\u9801\u7684\u6548\u80fd\u548c\u5373\u6642\u6027\uff0c\u800c\u4e0d\u9700\u8981\u7d93\u5e38\u91cd\u65b0 build \u6574\u500b\u61c9\u7528"),"\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u8981\u555f\u7528 ISR\uff0c\u9700\u8981\u5728 ",(0,i.kt)("inlineCode",{parentName:"li"},"getStaticProps()")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps()")," \u4e2d\u8fd4\u56de\u4e00\u500b\u984d\u5916\u7684\u5c6c\u6027 ",(0,i.kt)("inlineCode",{parentName:"li"},"revalidate"),"\uff0c\u4ee5\u6307\u5b9a\u591a\u9577\u6642\u9593\u9700\u8981\u91cd\u65b0\u751f\u6210\u5167\u5bb9\u3002"),(0,i.kt)("li",{parentName:"ul"},"ISR \u4e3b\u8981\u662f\u70ba\u4e86 ",(0,i.kt)("inlineCode",{parentName:"li"},"getStaticProps()")," \u800c\u8a2d\u8a08\u7684\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u8207 ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps()")," \u4e00\u8d77\u4f7f\u7528\u3002\u7576\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"getServerSideProps()")," \u6642\uff0cNext.js \u53ef\u4ee5\u4f7f\u7528 ISR \u4f86 cache \u5df2\u7d93\u751f\u6210\u7684 HTML \u5167\u5bb9\uff0c\u4e26\u5728\u4e0b\u4e00\u6b21 request \u6642\u66f4\u65b0\u8a72\u5167\u5bb9\uff0c\u800c\u4e0d\u9700\u8981\u91cd\u65b0\u751f\u6210\u6574\u500b\u9801\u9762\u3002")),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"When running locally with next dev, getStaticProps is invoked on every request. To verify your on-demand ISR configuration is correct, you will need to create a production build and start the production server."),(0,i.kt)("p",{parentName:"div"},"If there is an error inside getStaticProps when handling background regeneration, or you manually throw an error, the last successfully generated page will continue to show."),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration#on-demand-revalidation"},"Next.js \u5b98\u7db2"))))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"getStaticProps with ISR",src:n(3349).Z})),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"\u53c3\u8003\u8cc7\u6e90"},"\u53c3\u8003\u8cc7\u6e90"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://ithelp.ithome.com.tw/articles/10265138"},"Day02 - \u70ba\u4ec0\u9ebc\u4f60\u9700\u8981 Next.js ?"))))}m.isMDXComponent=!0},8855:function(e,t,n){t.Z=n.p+"assets/images/next_app_dynamic_page-dd8528dcd45ec5dd0052502a8160a61b.png"},2094:function(e,t,n){t.Z=n.p+"assets/images/next_app_structure-afe3f54ccda611acad01369645ffe3c5.png"},918:function(e,t,n){t.Z=n.p+"assets/images/next_fallback_blocking-d6e6d177bacd8197c4fff65bd8394cc2.png"},8703:function(e,t,n){t.Z=n.p+"assets/images/next_fallback_false-28e31a9a83fc60b11ec37f5db24714b1.png"},7672:function(e,t,n){t.Z=n.p+"assets/images/next_fallback_true-a84556bb247a702351315a0d709864ea.png"},3392:function(e,t,n){t.Z=n.p+"assets/images/next_getServerSideProps()_example-03f7f5ed317f83b1fc096160371a6ff7.png"},3349:function(e,t,n){t.Z=n.p+"assets/images/next_getStaticProps_isr-79b2bfbb9a5c438424e4cd0b65672778.png"}}]);